{"ast":null,"code":"import { makeAutoObservable, runInAction } from 'mobx';\nimport agent from '../api/agent';\nexport default class ActivityStore {\n  constructor() {\n    this.activities = [];\n    this.selectedActivity = null;\n    this.editMode = false;\n    this.loading = false;\n    this.loadingInitial = false;\n\n    this.loadActivities = async () => {\n      //el codigo asincrono se ejecuta fuera del bloque trycatch\n      this.loadingInitial = true;\n\n      try {\n        //codigo asincrono sera dentro del bloqye trycatch\n        const activities = await agent.Activities.list();\n        runInAction(() => {\n          activities.forEach(activity => {\n            activity.date = activity.date.split('T')[0];\n            this.activities.push(activity);\n          });\n          this.loadingInitial = false;\n        });\n      } catch (error) {\n        runInAction(() => {\n          this.loadingInitial = false;\n        });\n      }\n    };\n\n    makeAutoObservable(this);\n  }\n\n}","map":{"version":3,"sources":["/home/gm/Downloads/reactivities/frontend/src/app/stores/activityStore.ts"],"names":["makeAutoObservable","runInAction","agent","ActivityStore","constructor","activities","selectedActivity","editMode","loading","loadingInitial","loadActivities","Activities","list","forEach","activity","date","split","push","error"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,WAA7B,QAAgD,MAAhD;AACA,OAAOC,KAAP,MAAkB,cAAlB;AAGA,eAAe,MAAMC,aAAN,CAAoB;AAOlCC,EAAAA,WAAW,GAAG;AAAA,SANdC,UAMc,GANW,EAMX;AAAA,SALdC,gBAKc,GALsB,IAKtB;AAAA,SAJdC,QAIc,GAJH,KAIG;AAAA,SAHdC,OAGc,GAHJ,KAGI;AAAA,SAFdC,cAEc,GAFG,KAEH;;AAAA,SAIdC,cAJc,GAIG,YAAY;AAC5B;AAEA,WAAKD,cAAL,GAAsB,IAAtB;;AACA,UAAI;AACH;AACA,cAAMJ,UAAU,GAAG,MAAMH,KAAK,CAACS,UAAN,CAAiBC,IAAjB,EAAzB;AACAX,QAAAA,WAAW,CAAC,MAAM;AACjBI,UAAAA,UAAU,CAACQ,OAAX,CAAoBC,QAAD,IAAc;AAChCA,YAAAA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAhB;AACA,iBAAKX,UAAL,CAAgBY,IAAhB,CAAqBH,QAArB;AACA,WAHD;AAIA,eAAKL,cAAL,GAAsB,KAAtB;AACA,SANU,CAAX;AAOA,OAVD,CAUE,OAAOS,KAAP,EAAc;AACfjB,QAAAA,WAAW,CAAC,MAAM;AACjB,eAAKQ,cAAL,GAAsB,KAAtB;AAEA,SAHU,CAAX;AAIA;AACD,KAxBa;;AACbT,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACA;;AATiC","sourcesContent":["import { makeAutoObservable, runInAction } from 'mobx';\nimport agent from '../api/agent';\nimport { Activity } from '../models/Activity';\n\nexport default class ActivityStore {\n\tactivities: Activity[] = [];\n\tselectedActivity: Activity | null = null;\n\teditMode = false;\n\tloading = false;\n\tloadingInitial = false;\n\n\tconstructor() {\n\t\tmakeAutoObservable(this);\n\t}\n\n\tloadActivities = async () => {\n\t\t//el codigo asincrono se ejecuta fuera del bloque trycatch\n\n\t\tthis.loadingInitial = true;\n\t\ttry {\n\t\t\t//codigo asincrono sera dentro del bloqye trycatch\n\t\t\tconst activities = await agent.Activities.list();\n\t\t\trunInAction(() => {\n\t\t\t\tactivities.forEach((activity) => {\n\t\t\t\t\tactivity.date = activity.date.split('T')[0];\n\t\t\t\t\tthis.activities.push(activity);\n\t\t\t\t});\n\t\t\t\tthis.loadingInitial = false;\n\t\t\t});\n\t\t} catch (error) {\n\t\t\trunInAction(() => {\n\t\t\t\tthis.loadingInitial = false;\n\t\t\t\t\n\t\t\t});\n\t\t}\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}